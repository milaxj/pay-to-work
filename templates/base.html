<!DOCTYPE html>
<html lang="zh" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}付费上班有限公司{% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}?v=1.3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">付费上班有限公司</div>
            <ul class="nav-menu">
                {% for item in nav_items %}
                    <li>
                        <a href="{{ item.url }}" 
                           class="nav-link {% if item.class %}{{ item.class }}{% endif %}"
                           {% if item.url.startswith('/#') %}data-section="{{ item.url[2:] }}"{% endif %}>
                            {% if item.icon %}
                                <i class="{{ item.icon }}"></i>
                            {% endif %}
                            {{ item.title }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
            <button class="nav-toggle" aria-label="切换导航菜单">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="mb-1">© 2024 付费上班有限公司 版权所有</p>
                <p>工作是高尚的，不是免费的</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}?v=1"></script>
    <script>
    function toggleTheme() {
        const html = document.documentElement;
        const themeToggle = document.querySelector('.theme-toggle i');
        
        if (html.getAttribute('data-theme') === 'dark') {
            html.setAttribute('data-theme', 'light');
            themeToggle.className = 'fas fa-moon';
            localStorage.setItem('theme', 'light');
        } else {
            html.setAttribute('data-theme', 'dark');
            themeToggle.className = 'fas fa-sun';
            localStorage.setItem('theme', 'dark');
        }
    }

    // 加载保存的主题
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        const themeToggle = document.querySelector('.theme-toggle i');
        themeToggle.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    });
    </script>
</body>
</html>